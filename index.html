<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./css/reset.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/2.9.7/jquery.fullpage.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/2.9.7/jquery.fullpage.min.js"></script>
</head>
</head>

<body>
    <div id="header">
        <div class="left">
            <div class="logo">logo</div>
        </div>
        <div class="right">
            <div class="menu-wrap">
                <div class="menu">menu1</div>
                <div class="menu">menu2</div>
                <div class="menu">menu3</div>
            </div>
        </div>
    </div>
    <div id="fullpage">
        <div class="section level-wrap">Section 1</div>
        <div class="section level-wrap">Section 2</div>
        <div class="section level-wrap">Section 3</div>
        <div class="section level-wrap">Section 4</div>
        <div class="section level-wrap">Section 5</div>
        <div class="section level-wrap">Section 6</div>
        <div class="section level-wrap">Section 7</div>
    </div>
    <div id="main-object">
        <div class="main-object-box lvl1">
            <div class="sub hide"></div>
            <div class="main hide"></div>
        </div>
        <div class="main-object-box lvl2">
            <div class="sub hide"></div>
            <div class="main hide"></div>
        </div>
        <div class="main-object-box lvl3">
            <div class="sub hide"></div>
            <div class="main hide"></div>
        </div>
        <div class="main-object-box lvl4">
            <div class="sub hide"></div>
            <div class="main hide"></div>
        </div>
        <div class="main-object-box lvl5">
            <div class="sub hide"></div>
            <div class="main hide"></div>
        </div>
        <div class="main-object-box lvl6">
            <div class="sub hide"></div>
            <div class="main hide"></div>
        </div>
        <div class="main-object-box lvl7">
            <div class="sub hide"></div>
            <div class="main hide"></div>
        </div>
    </div>
    <div id="footer">
        <div class="footer-bg lvl1"></div>
        <div class="footer-bg lvl2"></div>
        <div class="footer-bg lvl3"></div>
        <div class="footer-bg lvl4"></div>
        <div class="footer-bg lvl5"></div>
        <div class="footer-bg lvl6"></div>
        <div class="footer-bg lvl7"></div>
    </div>
    <!-- <section class="level-wrap">
        <div class="footer-bg lvl1"></div>
    </section>
    <section class="level-wrap">
        <div class="footer-bg lvl2"></div>
    </section>
    <section class="level-wrap">
        <div class="footer-bg lvl3"></div>
    </section>
    <section class="level-wrap">
        <div class="footer-bg lvl4"></div>
    </section>
    <section class="level-wrap">
        <div class="footer-bg lvl5"></div>
    </section>
    <section class="level-wrap">
        <div class="footer-bg lvl6"></div>
    </section>
    <section class="level-wrap">
        <div class="footer-bg lvl7"></div>
    </section> -->

    <script>
        $(document).ready(function () {
            $('#fullpage').fullpage({
                //options here
                licenseKey: 'OPEN-SOURCE-GPLV3-LICENSE',  // 무료 사용시 해당 라이센스 카피할 것(반드시 있어야함)
                navigation: true,  //우측페이저유무
                navigationPosition: 'right', // left,right(default) 페이저 위치
                autoScrolling: true,
                scrollHorizontally: true,
                slidesNavigation: true, // 슬라이드섹션 네비게이션 유무
                slidesNavPosition: 'bottom', //네비게이션 위치 (top,bottom)
                navigationTooltips: ['firstSlide', 'secondSlide'], //navigation active시 타이틀 노출여부(hover포함)
                showActiveTooltip: true,  //네비게이션 hover(default:false)시 툴팁 표기
                fitToSection: true,
                fitToSectionDelay: 1000, // 섹션 넘어갈 때 걸리는 딜레이 시간
                keyboardScrolling: true, // 키보드 방향키로 스크롤 컨트롤 여부
                animateAnchor: true,
                sectionsColor: ['#f2f2f2', '#4BBFC3', '#7BAABE', 'whitesmoke', '#ccddff'], // 섹션별 컬러
                afterLoad: function (index, anchorLink) {
                    if (anchorLink === 1) {
                        pageObjectShown(1);
                    } else if (anchorLink === 2) {
                        pageObjectShown(2);
                    } else if (anchorLink === 3) {
                        pageObjectShown(3);
                    } else if (anchorLink === 4) {
                        pageObjectShown(4);
                    } else if (anchorLink === 5) {
                        pageObjectShown(5);
                    } else if (anchorLink === 6) {
                        pageObjectShown(6);
                    } else if (anchorLink === 7) {
                        pageObjectShown(7);
                    }

                },
            });
            function pageObjectShown(i) {
                $(".footer-bg").addClass("hide");
                $(`.footer-bg.lvl${i}`).removeClass("hide");
                $(".main-object-box .main").addClass("hide");
                $(`.main-object-box.lvl${i} .main`).removeClass("hide");
                $(".main-object-box .sub").addClass("hide");
                $(`.main-object-box.lvl${i} .sub`).removeClass("hide");
                console.log(`lvl${i} shown`)
            }

            // $(window).on('scroll', function () {
            //     var scrollTop = $(this).scrollTop();
            //     console.log("scrolled")
            //     // Iterate through each section
            //     $('#fullpage .section').each(function () {
            //         var sectionTop = $(this).offset().top;
            //         var sectionBottom = sectionTop + $(this).outerHeight();

            //         // Check if the current section is in the viewport
            //         if (scrollTop >= sectionTop && scrollTop < sectionBottom) {
            //             var index = $(this).index();

            //             // Remove active class from all main-object-box elements
            //             $('#main-object .main-object-box').removeClass('active');

            //             // Add active class to the corresponding main-object-box element
            //             $('#main-object .main-object-box.lvl' + (index + 1)).addClass('active');
            //         }
            //     });
            // });
        });
    </script>
</body>

</html>